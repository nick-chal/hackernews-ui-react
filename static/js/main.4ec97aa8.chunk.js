(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(t,e,n){t.exports=n(70)},34:function(t,e,n){},36:function(t,e,n){},38:function(t,e,n){},40:function(t,e,n){},42:function(t,e,n){},44:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(23),r=n.n(c),s=(n(34),n(6)),i=n(11),l=n(8),m=n(7),u=n(9),d=n(74),h=n(75),f=n(48),p=n(73),E=(n(36),n(38),n(40),n(42),n(44),n(71)),y="/beststories",b="/newstories",g="/topstories",v=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header"},o.a.createElement("h2",null,"HackerNews"),o.a.createElement("p",null,"Hackernews api using react")),o.a.createElement("ul",{className:"navbar"},o.a.createElement("li",null,o.a.createElement(E.a,{exact:!0,to:y},"Best")),o.a.createElement("li",null,o.a.createElement(E.a,{exact:!0,to:g},"Top")),o.a.createElement("li",null,o.a.createElement(E.a,{exact:!0,to:b},"New"))))},j=n(72),k=n(24),O=n.n(k).a.create({baseURL:"https://hacker-news.firebaseio.com/v0/"}),N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?O.get("item/".concat(e,".json")):O.get(t+".json")},w=function(t){var e=1e5*t,n=(Date.now()-e)/1e3/60,a=Math.floor(n/60/24/365),o=Math.floor(n/60/24/30),c=Math.floor(n/60/24),r=Math.floor(n/60),s=Math.floor(n);return a>0?"".concat(a," years ago"):o>0?"".concat(o," months ago"):c>0?"".concat(c," days ago"):r>0?"".concat(r," hours ago"):"".concat(s," minutes ago")},S=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(m.a)(e).call(this,t))).fetchComment=function(){n.state.comment&&n.state.comment>0||N("comment",n.state.commentId).then(function(t){n.setState({comment:t.data})})},n.displayContent=function(){return n.state.comment?o.a.createElement("div",{className:"comment"},o.a.createElement("div",{className:"comment-body"},o.a.createElement("div",null,o.a.createElement("h4",null,n.state.comment.by),o.a.createElement("span",{className:"story-detail"},w(Math.floor(n.state.comment.time/100)))),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.state.comment.text}})),o.a.createElement("div",{className:"comment-sub"},n.state.comment.kids&&n.state.comment.kids.length>0?n.state.comment.kids.map(function(t,n){return o.a.createElement(e,{commentId:t,key:"".concat(t.id).concat(n)})}):null)):o.a.createElement("div",null,"Loading")},n.componentDidMount=function(){n.fetchComment()},n.render=function(){return n.displayContent()},n.state={kids:[],commentId:t.commentId},n}return Object(u.a)(e,t),e}(o.a.Component),C=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(m.a)(e).call(this,t))).fetchStory=function(){n.state.story&&n.state.story>0||N("story",n.state.storyId).then(function(t){null!==t.data?n.setState({story:t.data}):n.setState({notFound:!0})})},n.displayContent=function(){return n.state.notFound?o.a.createElement("div",null,"404 No such link found! Check the address"):n.state.story?o.a.createElement("div",null,o.a.createElement("h2",{className:"story-heading"},o.a.createElement("a",{href:n.state.story.url},n.state.story.title)),o.a.createElement("span",{className:"story-detail"},"by ".concat(n.state.story.by," ").concat(n.state.story.score," points ").concat(n.state.story.descendants," comments ").concat(w(Math.ceil(n.state.story.time/100))))):o.a.createElement("div",null,"Loading")},n.componentDidMount=function(){n.fetchStory()},n.state={storyId:t.match.params.id,notFound:!1},n}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.displayContent();return o.a.createElement(o.a.Fragment,null,t,o.a.createElement("div",{className:"comment-section"},this.state.story&&this.state.story.kids?this.state.story.kids.map(function(t){return o.a.createElement(S,{commentId:t,key:t})}):o.a.createElement("div",{className:"comment-main"},"No Comments")))}}]),e}(o.a.Component),I=Object(j.a)(C),L=n(26),M=n(50),x=10,P=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(m.a)(e).call(this,t))).pageHandler=function(t){0===n.state.currentPage&&-1===t||4===n.state.currentPage&&1===t||n.setState(function(e){return{currentPage:e.currentPage+t}})},n.updateStoriesList=function(){n.state.storiesIdList&&n.state.storiesIdList.length>1?n.loadStories():N(n.state.storyType).then(function(t){n.setState({storiesIdList:t.data},n.loadStories)}).catch(function(t){return n.setState({err:t})})},n.loadStories=function(){if(!(n.state.stories&&n.state.stories.length>n.end))for(var t=n.start;t<n.end;t++)N("story",n.state.storiesIdList[t]).then(function(t){n.setState({stories:[].concat(Object(L.a)(n.state.stories),[t.data])})})},n.displayStories=function(){return n.state.stories.map(function(t,e){return t&&e>=n.start&&e<n.end?o.a.createElement(M.a,{to:"/".concat(t.id),key:t.id},o.a.createElement("li",{className:"story"},o.a.createElement("p",null,"".concat(t.title)),o.a.createElement("span",{className:"story-detail"},"-by ".concat(t.by," | ").concat(t.score," points | ").concat(t.descendants," comments | ").concat(w(Math.floor(t.time/100)))))):null})},n.componentDidMount=function(){n.updateStoriesList()},n.componentDidUpdate=function(t,e){e.currentPage!==n.state.currentPage&&n.updateStoriesList()},n.state={storyType:t.location.pathname,storiesIdList:[],stories:[],currentPage:0},n}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this;return this.start=this.state.currentPage*x,this.end=this.start+x,o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){t.pageHandler(-1)}},"<"),o.a.createElement("span",null,this.state.currentPage+1,o.a.createElement("button",{onClick:function(){t.pageHandler(1)}},">"))),o.a.createElement("ul",{className:"stories-list"},this.state.stories&&this.state.stories.length>this.start?this.displayStories():o.a.createElement("div",{className:"no-items"}," ","Loading...")))}}]),e}(o.a.Component),H=Object(j.a)(P),D=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(v,null),o.a.createElement(h.a,null,o.a.createElement(f.a,{exact:!0,path:"/",render:function(){return o.a.createElement(p.a,{to:"/topstories"})}}),o.a.createElement(f.a,{exact:!0,path:g,component:function(){return o.a.createElement(H,null)}}),o.a.createElement(f.a,{exact:!0,path:b,component:function(){return o.a.createElement(H,null)}}),o.a.createElement(f.a,{exact:!0,path:y,component:function(){return o.a.createElement(H,null)}}),o.a.createElement(f.a,{exact:!0,path:"/:id",component:function(){return o.a.createElement(I,null)}}))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.4ec97aa8.chunk.js.map